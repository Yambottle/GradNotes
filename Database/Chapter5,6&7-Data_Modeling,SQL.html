<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.12 (457936)"/><meta name="altitude" content="176.4979858398438"/><meta name="author" content="chinibottle@gmail.com"/><meta name="created" content="2017-09-13 21:08:46 +0000"/><meta name="latitude" content="32.84230296489468"/><meta name="longitude" content="-96.78211943390825"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-09-27 20:51:34 +0000"/><title>Chapter5,6&amp;7-Data_Modeling,SQL</title></head><body><div><ol start="1"><li>Data Modeling:</li><ol><li>More Notations!!!!</li><li>Composite Key: part of a attribute belongs to one entity</li><li>Weak Entity: one entity need another entity’s attribute combined as primary key</li><li>Partial key: the identify key of weak entity called partial key</li><li>Identifying Relationship: for weak entity</li><li>Multiple Attribute: attribute has multi values; e.g. car in black and white (How to implement it???)</li><li>Subclasses: e.g. engineer and manager is also an employee (View)</li><li>Specialization: e.g. daily paid and hourly paid employee (View)</li><li>Union, Overlap, Disjoint (Entity Relations)</li><li>Data Types</li><li>Constraint:</li><ol><li>Not Null</li><li>PK</li><li>FK (not must refer to the PK of the table but unique)</li><li>Check (ignored by MySQL)</li></ol><li>Referential Integrity</li><ol><li>1:N: two tables</li><li>1:1: foreign key</li><li>N:M: three tables, one for the relations</li></ol></ol><li>SQL:</li><ol><li> I, D, U, S</li><li>Set Operation:<span style="background-color: rgb(248, 249, 250); border: 1px solid rgb(234, 236, 240); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: monospace, Courier; font-variant-caps: normal; font-variant-ligatures: normal;">UNION</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">, </span><span style="background-color: rgb(248, 249, 250); border: 1px solid rgb(234, 236, 240); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: monospace, Courier; font-variant-caps: normal; font-variant-ligatures: normal;">INTERSECT</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">, and </span><span style="background-color: rgb(248, 249, 250); border: 1px solid rgb(234, 236, 240); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: monospace, Courier; font-variant-caps: normal; font-variant-ligatures: normal;">EXCEPT</span></li><li>Aggregates Method: avg, max, min, count (except null value), sum</li><li>How to distinct?</li><ol><li>Sort</li><li>Scan</li></ol><li>Join: Left, Right, Natural, Inner, Full (PPT.Sept25)Outer, (no specific)</li><ol><li>Natural Join&amp;Inner Join&amp;Outer Join:</li><ol><li>inner join是内连接,显示符合连接条件的记录<br/>语法如下:<br/>select select_list from table1 inner join tabl2 on table1.column1=table2.column1<br/><br/>natural join是对两张表中<span style="font-size: x-small; color: rgb(0, 0, 0);">字段名</span><span style="font-size: x-small;">和</span><span style="font-size: x-small; color: rgb(0, 0, 0);">数据类型</span><span style="font-size: x-small;">都相同</span>的字段进行等值连接，并返回符合条件的结果 。<br/>natural join是自然连接,自动对两个表按照同名的列进行内连接语法如下：<br/>select select_list from table1 natural join tabl2<br/>使用自然连接要注意，两个表同名的列不能超过1个。</li><li> natural join:指明了两表进行自然连接，并且连接是基于两表中所有同名字段的。<br/> join...using:用于两表有同名字段但数据类型不同，或者使用多个同名字段中的某一个做等值连接<br/> join...on :最为灵活，可以指明连接的条件。<br/> 新加入字段导致自然连接的条件发生变化，修改后变为了指定字段的等值连接。像这种项目中的类似问题，还是不要使用自然连接的好，最开始就使用join...using或join...on避免他人因修改表结构造成的错误<br/><br/><span style="-en-paragraph: true; border: 0px; clear: both;">An inner join of A and B gives the result of A intersect B, i.e. the inner part of a <span style="border: 0px; clear: both;">Venn diagram </span></span><span style="-en-paragraph: true; border: 0px; clear: both;">intersection.</span><br/><span style="-en-paragraph: true; border: 0px; clear: both;">An outer join of A and B gives the results of A union B, i.e. the outer parts of a Venn diagram union.</span></li></ol></ol><li>Nested Queries</li><li>Grouping: order by</li><li>Triggers</li><li>User Defined Error  start with #45000</li><li>View: abstraction and security; Updatable View: not multiple tables join, not grouping, not aggregate functions</li><ol><li>Query to implement</li><li>Materialization: temporary table when update</li></ol><li>Alter</li><ol><li>When alter table, create new table: create table T as select f1,f2, null as f3 from pT;</li></ol><li>Drop(for structure), Delete(for content, can rollback), Truncate(clear data)</li></ol></ol></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></body></html>